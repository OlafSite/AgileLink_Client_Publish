import{q as ce,r as P,a7 as Z,s as Ue,e as M,o as f,K as q,h as i,g as n,i as A,y as Te,aL as Ne,f as U,O as te,F as K,j as v,Q as G,ao as De,_ as Me,d as de,w as Ge,Z as W,t as ee,av as ze,aw as ve,k as be,v as Ie,x as ae,ax as Oe,ay as Ce,aM as je,E as qe,aN as Pe,u as We,a as Je,b as Ke,aO as pe,aD as He,aP as Qe,at as Ze,a4 as $e,ar as et,aF as tt,aG as lt,aH as ot,m as Le,aQ as Ve,p as nt,n as at,aR as Ee,aS as st}from"./index-4d5b55f1.js";import{u as it,a as ct,_ as rt,h as ut,b as pt}from"./html2canvas.esm-b26fb6ff.js";const dt=["bg.jpg","bg2.jpg","bg3.jpg","head_bg.png"],he={bg:dt},ft={class:"img-list"},gt=["onClick"],ht=["src"],vt={key:0},bt=ce({__name:"upload",emits:["click"],setup(Y,{expose:w,emit:g}){const s=P(!1),r=P(),D=P("bg"),L=Z(()=>{if(!he)return[];const o=[];for(const V in he)o.push(V);return o}),e=Z(()=>D.value.name==="upload"?[]:he?he[D.value]:[]),k=Z(()=>`./static/screen/${D.value}/`),m=o=>{s.value=!1,g("click",k.value+o,r.value)},R=o=>{D.value="upload",De(()=>{e.value.unshift(o.path)})};return w({open:(o,V)=>{s.value=!0,r.value=V,o?D.value=o:D.value=L.value[0]}}),Ue(()=>{}),(o,V)=>{const b=M("el-button"),N=M("el-upload"),O=M("el-tab-pane"),le=M("el-tabs"),oe=M("el-dialog");return f(),q(oe,{modelValue:s.value,"onUpdate:modelValue":V[1]||(V[1]=H=>s.value=H),width:"800px",title:"选择上传图片"},{default:i(()=>{var H;return[n(N,{action:Te(Ne),"on-success":R,"show-file-list":!1},{default:i(()=>[n(b,{type:"primary"},{default:i(()=>[A("上传")]),_:1})]),_:1},8,["action"]),n(le,{modelValue:D.value,"onUpdate:modelValue":V[0]||(V[0]=z=>D.value=z)},{default:i(()=>[(f(!0),U(K,null,te(L.value,z=>(f(),q(O,{label:z,name:z,key:z},null,8,["label","name"]))),128)),n(O,{label:"上传",name:"upload"})]),_:1},8,["modelValue"]),v("div",ft,[v("ul",null,[(f(!0),U(K,null,te(e.value,z=>(f(),U("li",{key:z,onClick:ne=>m(z)},[v("img",{src:k.value+z,alt:""},null,8,ht)],8,gt))),128))]),(H=e.value)!=null&&H.length?G("",!0):(f(),U("p",vt,"暂无相关素材资源"))])]}),_:1},8,["modelValue"])}}});const yt=Me(bt,[["__scopeId","data-v-b06a5e4b"]]),mt={key:0},kt=v("h3",null,"接口数据处理事件",-1),_t=v("h3",null,"全局数据",-1),wt=v("h3",null,"接口数据处理事件",-1),xt=ce({__name:"configControl",props:{config:{}},emits:["update:config","openDrawer","update"],setup(Y,{expose:w,emit:g}){const s=Y,r=P({}),D=P(),L=Z(()=>r.value.type),e=u=>{g("update:config",Object.assign({},s.config,u))},k=de({bgColor:"",bgLinear:"",bgAngle:0,bgUpload:"",bgSelect:""});Ge(()=>s.config,u=>{if(!Object.keys(r.value).length){const a=u.background||"";if(a.indexOf("url")!==-1){const j=new RegExp("(?<=url\\()(.*?)(?=\\))","g"),E=a.match(j);Object.assign(k,{bgUpload:E,bgSelect:3})}else if(a.indexOf("linear")!==-1){const E=a.substring(a.indexOf("(")+1,a.lastIndexOf(")")).split(/,(?![^(]*\))(?![^"']*["'](?:[^"']*["'][^"']*["'])*[^"']*$)/);Object.assign(k,{bgColor:E[1].trim(),bgLinear:E[2].trim(),bgAngle:Number(E[0].replace("deg","")),bgSelect:2})}else Object.assign(k,{bgColor:a,bgSelect:1})}},{immediate:!0});const m=()=>{let u="";switch(k.bgSelect){case 1:u=k.bgColor;break;case 2:u=`linear-gradient(${k.bgAngle}deg, ${k.bgColor}, ${k.bgLinear})`;break;case 3:u=`url(${k.bgUpload})`;break}R("background",u)},R=(u,a)=>{e({[u]:a})},y=u=>{r.value=u},o=Z(()=>{var u,a,j,E;if(Object.keys(r.value).length){const{config:T={},position:x,type:F}=r.value;return[{type:"group",title:"位置信息"},{label:"width",value:x.width,placeholder:"请输入宽度",key:"width",path:"position"},{label:"height",value:x.height,placeholder:"请输入高度",key:"height",path:"position"},{type:"number",label:"left",value:x.left,placeholder:"图层位置",key:"left",path:"position"},{type:"number",label:"top",value:x.top,key:"top",path:"position"},{type:"number",label:"right",value:x.right,placeholder:"设置后left为auto",key:"right",path:"position"},{type:"number",label:"bottom",value:x.bottom,placeholder:"设置后top为auto",key:"bottom",path:"position"},{type:"number",label:"zIndex",value:x.zIndex,placeholder:"请输入层级",key:"zIndex",path:"position"},{type:"group",title:"属性信息"},{type:"switch",label:"锁定",value:T.lock,key:"lock"},{type:"switch",label:"隐藏",value:x.display,key:"display",path:"position"},{label:"样式类名",placeholder:"方便引用个性化样式",value:T.class,key:"class"},{label:"文本内容",placeholder:"请输入文本内容",value:T.text,key:"text",vShow:["text"]},{type:"select",label:"滚动方向",placeholder:"请选择滚动方向",value:T.direction,key:"direction",vShow:["sText"],options:{left:"从左到右",right:"从右到左",top:"从上到下",bottom:"从下到上"}},{type:"number",label:"滚动速度",placeholder:"滚动速度，数字越大速度越慢",value:T.speed,key:"speed",vShow:["sText"]},{type:"number",label:"滚动步长",placeholder:"每单位时间滚动的距离，默认1",value:T.step,key:"step",vShow:["sText"]},{type:"textarea",label:"文本内容",placeholder:"请输入文本内容，支持html",value:T.text,key:"text",vShow:["sText"]},{label:"字体大小",placeholder:"文本字体大小,如14px",value:(u=T.style)==null?void 0:u.fontSize,key:"fontSize",path:"style",vShow:["text","clock"]},{label:"边框",placeholder:"如1px solid #000",value:(a=T.style)==null?void 0:a.border,key:"border",path:"style",vShow:["border"]},{type:"color",label:"背景颜色",value:(j=T.style)==null?void 0:j.background,key:"background",path:"style",vShow:["border"]},{type:"color",label:"字体颜色",value:(E=T.style)==null?void 0:E.color,key:"color",path:"style",vShow:["text","clock"]},{type:"select",label:"时间格式",value:T.dateTime,key:"dateTime",allowCreate:!0,filterable:!0,placeholder:"选择或创建时间格式",vShow:["clock"],options:{"{y}-{m}-{d}":"{y}-{m}-{d}","{h}:{i}:{s}":"{h}:{i}:{s}","{y}-{m}-{d} {h}:{i}:{s}":"{y}-{m}-{d} {h}:{i}:{s}","{y}年{m}月{d}日 {h}:{i}:{s} 星期{w}":"{y}年{m}月{d}日 {h}:{i}:{s} 星期{w}"}},{label:"组件名称",value:T.component,placeholder:"全局注册的组件名称",key:"component",vShow:["component"]},{type:"switch",label:"是否轮播",value:T.carousel,key:"carousel",vShow:["table"]},{type:"number",label:"滚动速度",placeholder:"开启轮播有效",value:T.speed,key:"speed",vShow:["table"]}].filter(S=>{let I=!0;return S.vShow&&(I=S.vShow.includes(F)),S.vHide&&(I=!S.vHide.includes(F)),I})}return[]}),V=(u,a)=>{var j;u.path==="position"?r.value.position[u.key]=a:u.path==="style"?((j=r.value.config)!=null&&j.style||(r.value.config.style={}),r.value.config.style[u.key]=a):r.value.config[u.key]=a,["zIndex","display","lock"].includes(u.key)&&g("update")},b=(u,a)=>{D.value.open(u,a)},N=(u,a)=>{switch(a){case"screenBg":k.bgUpload=u,m();break;case"src":r.value.config.src=u;break}},O=()=>{g("openDrawer",{codeType:"css",type:"css",title:"当前应用页的样式，类似于.vue文件中的style scoped中的样式"})},le=()=>{g("openDrawer",{content:r.value.option,title:"可参考echarts相关例子编辑",callback:u=>{r.value.option=u}})},oe=()=>{var u;g("openDrawer",{codeType:"json",content:((u=r.value.config)==null?void 0:u.style)||{},title:"可输入更多的css样式，须为json格式",callback:a=>{r.value.config.style=a}})},H=()=>{var u;g("openDrawer",{codeType:"json",content:((u=r.value.config)==null?void 0:u.props)||{},title:"支持所有表格props属性，可参考el-table。json格式",callback:a=>{r.value.config.props=a}})},z=()=>{let u=r.value.columns;(!u||!u.length)&&(u=[{prop:"",label:""}]),g("openDrawer",{codeType:"json",content:u,title:"表格列设置，可参考table-column属性",callback:a=>{r.value.columns=a}})},ne=(u,a)=>{let j;a==="global"?j=s.config&&s.config[u]:j=r.value.events&&r.value.events[u],j||(u==="beforeRequest"?j=E=>(console.log("beforeRequest",E),E):a==="global"?j=E=>(console.log("afterResponse",E),E):j=(E,T,x)=>(console.log("afterResponse",E,T,x),T)),g("openDrawer",{content:j,title:u==="beforeRequest"?"这里可处理请求前的参数，返回相应参数给接口":"接口数据处理。也可为字符串，如opt=formatTest",callback:E=>{a==="global"?s.config[u]=E:(r.value.events||(r.value.events={}),r.value.events[u]=E)}})},ye=()=>{var E,T;let u,a;const j=r.value.config.optionsType;j===2?(a="从大屏配置的全局数据里获取指定数据",u=(E=r.value.events)==null?void 0:E.getGlobal,u||(u=(x,F)=>(console.log("getGlobalData",x,F),x))):(a="图表数据，替换相关数据返回即可",["text","sText"].includes(L.value)?(u=(T=r.value.config)==null?void 0:T.text,a="编辑文本内容数据"):u=r.value.option,L.value==="table"&&(a="表格列表数据。根据设定的table-column列数据设置对应的数据")),g("openDrawer",{content:u,title:a,callback:x=>{j===2?(r.value.events||(r.value.events={}),r.value.events.getGlobal=x):["text","sText"].includes(L.value)?r.value.config.text=x:r.value.option=x}})};return w({setCurrent:y}),(u,a)=>{var fe;const j=M("el-switch"),E=M("el-color-picker"),T=M("el-input"),x=M("el-option"),F=M("el-select"),S=M("el-input-number"),I=M("el-form-item"),J=M("el-button"),se=M("el-form"),ie=M("el-tab-pane"),re=M("el-radio"),me=M("el-radio-group"),ue=M("el-tabs"),ke=M("el-slider");return f(),U("div",{class:W(["main-right",{lock:(fe=r.value.config)==null?void 0:fe.lock}])},[Object.keys(r.value).length?(f(),q(ue,{key:0,class:"tabs","model-value":"screen"},{default:i(()=>[n(ie,{label:"位置属性",name:"screen"},{default:i(()=>[n(se,{size:"small"},{default:i(()=>[(f(!0),U(K,null,te(o.value,(c,_e)=>(f(),q(I,{label:c.label,key:_e},{default:i(()=>[c.type==="group"?(f(),U("h3",mt,ee(c.title),1)):c.type==="switch"?(f(),q(j,{key:1,"model-value":c.value,onChange:B=>V(c,B),class:W([c.key])},null,8,["model-value","onChange","class"])):c.type==="color"?(f(),q(E,{key:2,"show-alpha":"",onChange:B=>V(c,B),"model-value":c.value},null,8,["onChange","model-value"])):c.type==="textarea"?(f(),q(T,{key:3,type:"textarea",placeholder:c.placeholder,onChange:B=>V(c,B),"model-value":c.value},null,8,["placeholder","onChange","model-value"])):c.type==="select"?(f(),q(F,{key:4,allowCreate:c.allowCreate,filterable:c.filterable,placeholder:c.placeholder,onChange:B=>V(c,B),"model-value":c.value},{default:i(()=>[(f(!0),U(K,null,te(c.options,(B,ge)=>(f(),q(x,{key:B,label:B,value:ge},null,8,["label","value"]))),128))]),_:2},1032,["allowCreate","filterable","placeholder","onChange","model-value"])):c.type==="number"?(f(),q(S,{key:5,"controls-position":"right",placeholder:c.placeholder,"model-value":c.value,onInput:B=>V(c,B)},null,8,["placeholder","model-value","onInput"])):(f(),q(T,{key:6,placeholder:c.placeholder,"model-value":c.value,onInput:B=>V(c,B)},null,8,["placeholder","model-value","onInput"]))]),_:2},1032,["label"]))),128)),["image","background"].includes(L.value)?(f(),q(I,{key:0,class:"upload-image"},{default:i(()=>[n(T,{placeholder:"请输入图片地址",modelValue:r.value.config.src,"onUpdate:modelValue":a[0]||(a[0]=c=>r.value.config.src=c)},null,8,["modelValue"]),n(J,{type:"primary",onClick:a[1]||(a[1]=c=>b(L.value==="image"?"img":"bg","src"))},{default:i(()=>[A("选择图片")]),_:1})]),_:1})):G("",!0),["line","bar","pie","echarts"].includes(L.value)?(f(),q(I,{key:1},{default:i(()=>[n(J,{type:"primary",onClick:le},{default:i(()=>[A("图表编辑")]),_:1})]),_:1})):G("",!0),["text","sText","image","background","border","clock"].includes(L.value)?(f(),q(I,{key:2},{default:i(()=>[n(J,{type:"primary",onClick:oe},{default:i(()=>[A("编辑更多内联样式")]),_:1})]),_:1})):G("",!0),["table"].includes(L.value)?(f(),q(I,{key:3},{default:i(()=>[n(J,{type:"primary",onClick:H},{default:i(()=>[A("表格属性")]),_:1}),n(J,{type:"primary",onClick:z},{default:i(()=>[A("Table-column")]),_:1})]),_:1})):G("",!0)]),_:1})]),_:1}),n(ie,{label:"数据",name:"data"},{default:i(()=>[["line","bar","pie","echarts","text","sText","table"].includes(L.value)?(f(),q(se,{key:0,size:"small"},{default:i(()=>[n(I,{label:"数据类型"},{default:i(()=>[n(me,{modelValue:r.value.config.optionsType,"onUpdate:modelValue":a[2]||(a[2]=c=>r.value.config.optionsType=c)},{default:i(()=>[n(re,{label:0,style:{"margin-right":"4px"}},{default:i(()=>[A("静态")]),_:1}),n(re,{label:2,style:{"margin-right":"4px"}},{default:i(()=>[A("全局")]),_:1}),n(re,{label:1},{default:i(()=>[A("动态")]),_:1})]),_:1},8,["modelValue"])]),_:1}),r.value.config.optionsType!==1?(f(),q(I,{key:0},{default:i(()=>[n(J,{type:"primary",onClick:ye},{default:i(()=>[A("编辑数据")]),_:1})]),_:1})):G("",!0),r.value.config.optionsType===1?(f(),U(K,{key:1},[n(I,null,{default:i(()=>[n(T,{modelValue:r.value.config.requestUrl,"onUpdate:modelValue":a[4]||(a[4]=c=>r.value.config.requestUrl=c),placeholder:"接口URL或api中的key"},{prepend:i(()=>[n(F,{modelValue:r.value.config.method,"onUpdate:modelValue":a[3]||(a[3]=c=>r.value.config.method=c),style:{width:"60px"}},{default:i(()=>[n(x,{label:"get",value:"get"}),n(x,{label:"post",value:"post"}),n(x,{label:"ws",value:"ws",disabled:""})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),n(I,{label:"刷新时间"},{default:i(()=>[n(S,{modelValue:r.value.config.loopTime,"onUpdate:modelValue":a[5]||(a[5]=c=>r.value.config.loopTime=c),disabled:""},null,8,["modelValue"])]),_:1}),n(I,null,{default:i(()=>[kt]),_:1}),n(I,null,{default:i(()=>[n(J,{onClick:a[6]||(a[6]=c=>ne("beforeRequest"))},{default:i(()=>[A("beforeRequest")]),_:1})]),_:1}),n(I,null,{default:i(()=>[n(J,{onClick:a[7]||(a[7]=c=>ne("afterResponse"))},{default:i(()=>[A("afterResponse")]),_:1})]),_:1})],64)):G("",!0)]),_:1})):G("",!0)]),_:1})]),_:1})):(f(),q(ue,{key:1,class:"tabs","model-value":"screen"},{default:i(()=>[n(ie,{label:"大屏配置",name:"screen"},{default:i(()=>[n(se,{size:"small"},{default:i(()=>[n(I,{label:"大屏宽度"},{default:i(()=>[n(T,{placeholder:"请输入大屏宽度","model-value":u.config.width,onInput:a[8]||(a[8]=c=>R("width",c))},null,8,["model-value"])]),_:1}),n(I,{label:"大屏高度"},{default:i(()=>[n(T,{placeholder:"请输入大屏高度","model-value":u.config.height,onInput:a[9]||(a[9]=c=>R("height",c))},null,8,["model-value"])]),_:1}),n(I,{class:"color-picker",label:"主色"},{default:i(()=>[n(E,{"show-alpha":"",onChange:a[10]||(a[10]=c=>R("primary",c)),"model-value":u.config.primary},null,8,["model-value"])]),_:1}),n(I,{label:"背景"},{default:i(()=>[n(F,{modelValue:k.bgSelect,"onUpdate:modelValue":a[11]||(a[11]=c=>k.bgSelect=c),onChange:m},{default:i(()=>[n(x,{value:1,label:"背景色"}),n(x,{value:2,label:"渐变色"}),n(x,{value:3,label:"背景图"})]),_:1},8,["modelValue"])]),_:1}),k.bgSelect!==3?(f(),q(I,{key:0,class:"color-picker"},{default:i(()=>[n(E,{"show-alpha":"",modelValue:k.bgColor,"onUpdate:modelValue":a[12]||(a[12]=c=>k.bgColor=c),onChange:m},null,8,["modelValue"])]),_:1})):G("",!0),k.bgSelect===2?(f(),U(K,{key:1},[n(I,{class:"color-picker"},{default:i(()=>[n(E,{"show-alpha":"",modelValue:k.bgLinear,"onUpdate:modelValue":a[13]||(a[13]=c=>k.bgLinear=c),onChange:m},null,8,["modelValue"])]),_:1}),n(I,{label:"渐变角度"},{default:i(()=>[n(ke,{modelValue:k.bgAngle,"onUpdate:modelValue":a[14]||(a[14]=c=>k.bgAngle=c),max:360,onChange:m},null,8,["modelValue"])]),_:1})],64)):G("",!0),k.bgSelect===3?(f(),q(I,{key:2,class:"upload-image"},{default:i(()=>[n(T,{placeholder:"请输入图片地址",modelValue:k.bgUpload,"onUpdate:modelValue":a[15]||(a[15]=c=>k.bgUpload=c),onChange:m},null,8,["modelValue"]),n(J,{type:"primary",onClick:a[16]||(a[16]=c=>b("bg","screenBg"))},{default:i(()=>[A("上传")]),_:1})]),_:1})):G("",!0),n(I,null,{default:i(()=>[n(J,{onClick:O},{default:i(()=>[A("编辑样式")]),_:1})]),_:1}),n(I,null,{default:i(()=>[_t]),_:1}),n(I,null,{default:i(()=>[n(T,{"model-value":u.config.requestUrl,placeholder:"接口URL或api中的key",onInput:a[18]||(a[18]=c=>R("requestUrl",c))},{prepend:i(()=>[n(F,{"model-value":u.config.method,style:{width:"60px"},onChange:a[17]||(a[17]=c=>R("method",c))},{default:i(()=>[n(x,{label:"get",value:"get"}),n(x,{label:"post",value:"post"}),n(x,{label:"ws",value:"ws",disabled:""})]),_:1},8,["model-value"])]),_:1},8,["model-value"])]),_:1}),n(I,{label:"刷新时间"},{default:i(()=>[n(S,{disabled:"","model-value":u.config.loopTime,onInput:a[19]||(a[19]=c=>R("loopTime",c))},null,8,["model-value"])]),_:1}),n(I,null,{default:i(()=>[wt]),_:1}),n(I,null,{default:i(()=>[n(J,{onClick:a[20]||(a[20]=c=>ne("beforeRequest","global"))},{default:i(()=>[A("beforeRequest")]),_:1})]),_:1}),n(I,null,{default:i(()=>[n(J,{onClick:a[21]||(a[21]=c=>ne("afterResponse","global"))},{default:i(()=>[A("afterResponse")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})),n(yt,{ref_key:"uploadImageEl",ref:D,onClick:N},null,512)],2)}}}),It={class:"main-left"},Ct={class:"components-list scroll"},Tt={class:"title"},St=["title"],$t={class:"scroll layer-list"},Lt=["onClick"],Vt=["onClick"],Et=["onClick"],Rt=v("i",{class:"icon-del"},null,-1),Ut=ce({__name:"controlLeft",props:{active:{}},emits:["update","update:active"],setup(Y,{expose:w,emit:g}){const s={line:["折线图","line"],bar:["柱状图","bar"],pie:["饼图","pie"],echarts:["通用图表",""],table:["表格","table"],text:["文本","text"],sText:["滚动文本","stext"],image:["图片","image"],background:["背景","image"],border:["边框","border"],clock:["当前时间","time"],component:["自定义组件","component"],component1:["蓝色正方形","component"],component2:["红色正方形","component"],component3:["绿色正方形","component"],circle:["圆形","component"],triangle:["三角形","component"],squareborder:["正方形边框","component"]},r=P([]),D=P([{label:"图表",children:[{type:"line",label:s.line[0],icon:s.line[1],position:{width:400,height:300},option:{xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260],type:"line"}]}},{type:"bar",label:s.bar[0],icon:s.bar[1],position:{width:400,height:300},option:{xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[120,200,150,80,70,110,130],type:"bar"}]}},{type:"pie",label:s.pie[0],icon:s.pie[1],position:{width:300,height:300},option:{series:[{type:"pie",radius:"50%",data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}]}]}},{type:"echarts",label:s.echarts[0],icon:s.echarts[1],position:{width:400,height:300},option:{}}]},{label:"表格",children:[{type:"table",label:s.table[0],icon:s.table[1],position:{width:500,height:300},option:{sortable:!0,selectable:!0},columns:[{label:"姓名",field:"name"},{label:"年龄",field:"age"},{label:"国家",field:"country"}]}]},{label:"辅助",children:[{type:"text",label:s.text[0],icon:s.text[1],position:{width:300,height:100},config:{text:"文本内容"}},{type:"sText",label:s.sText[0],icon:s.sText[1],position:{width:300,height:100},config:{text:"滚动文本内容"}},{type:"image",label:s.image[0],icon:s.image[1],position:{width:100,height:50},config:{src:"../assets/circle.jpg"}},{type:"background",label:s.background[0],icon:s.background[1],position:{width:100,height:50},config:{src:""}},{type:"border",label:s.border[0],icon:s.border[1],position:{width:100,height:100},config:{style:{border:"1px solid #fff"}}}]},{label:"其他",children:[{type:"clock",label:s.clock[0],icon:s.clock[1],position:{width:150,height:30}}]},{label:"自定义组件",children:[{type:"component",label:s.component[0],icon:s.component[1],position:{width:200,height:200},config:{style:{"background-color":"yellow",width:"100%",height:"100%"}}},{type:"component",label:s.component1[0],icon:s.component1[1],position:{width:200,height:200},config:{style:{"background-color":"blue",width:"100%",height:"100%"}}},{type:"component",label:s.component2[0],icon:s.component2[1],position:{width:200,height:200},config:{style:{"background-color":"red",width:"100%",height:"100%"}}},{type:"component",label:s.circle[0],icon:s.circle[1],position:{width:200,height:200},config:{style:{width:"100%",height:"100%","border-radius":"50%",border:"2px solid black"}}},{type:"component",label:s.triangle[0],icon:s.triangle[1],position:{width:200,height:200},config:{style:{width:"0",height:"0","border-left":"100px solid transparent","border-right":"100px solid transparent","border-bottom":"173.2px solid black"},shape:"triangle"}},{type:"component",label:s.component3[0],icon:s.component3[1],position:{width:200,height:200},config:{style:{"background-color":"green",width:"100%",height:"100%"}}},{type:"component",label:s.squareborder[0],icon:s.squareborder[1],position:{width:200,height:200},config:{style:{width:"100%",height:"100%",border:"2px solid black"}}},{type:"component",label:"按钮",icon:s.squareborder[1],position:{width:150,height:40},config:{content:"按钮",style:{"background-color":"grey",color:"white","text-align":"center","line-height":"60px","border-radius":"20px",border:"1px solid black",cursor:"pointer"}}},{type:"component",label:"按钮",icon:s.squareborder[1],position:{width:150,height:40},config:{content:"按钮",style:{"background-color":"grey",color:"white","text-align":"center","line-height":"60px","border-radius":"20px",border:"1px solid black",cursor:"pointer"}}},{type:"component",label:"导航栏",position:{width:1e3,height:60},config:{style:{"background-color":"lightgray",color:"blak","text-align":"center","line-height":"60px","font-size":"18px"}}},{type:"component",label:"三角形边框",position:{width:200,height:200},config:{style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"}},children:[{type:"component",config:{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(45deg)",width:"calc(100% - 4px)",height:"calc(100% - 4px)",border:"2px solid black",borderTop:"none",borderRight:"none"}}}]}]}]),L=m=>ve(m),e=(m,R)=>{let y=!1;switch(R){case"display":y=!m.display,m.display=y;break;case"lock":y=!m.lock,m.lock=y;break;case"active":g("update:active",[m.index]);break}g("update",R,m.index,y)};return w({setLayer:m=>{const R=[];m.forEach((y,o)=>{y.type==="group"?R.push({label:"合并组",zIndex:y.position.zIndex||0,display:y.position.display,lock:y.config.lock,index:o,icon:"",groupId:y.id,type:"group"}):R.push({label:s[y.type][0],icon:s[y.type][1],zIndex:y.position.zIndex||0,display:y.position.display,lock:y.config.lock,index:o,groupId:y.groupId})}),r.value=R.sort(function(y,o){return y.groupId<o.groupId?-1:y.groupId>o.groupId?1:y.icon.localeCompare(o.icon)})}}),(m,R)=>{const y=M("el-tab-pane"),o=M("el-popconfirm"),V=M("el-tabs");return f(),U("div",It,[n(V,{"model-value":"component",class:"tabs"},{default:i(()=>[n(y,{label:"组件",name:"component"},{default:i(()=>[v("div",Ct,[(f(!0),U(K,null,te(D.value,(b,N)=>(f(),U("div",{key:N},[v("div",Tt,ee(b.label),1),n(Te(ze),{itemKey:"label",tag:"ul",modelValue:b.children,"onUpdate:modelValue":O=>b.children=O,group:{name:"form",pull:"clone",put:!1},"ghost-class":"ghost",sort:!1,clone:L},{item:i(({element:O})=>[v("li",{class:W([O.type])},[v("i",{class:W(`icon-${O.icon}`)},null,2),v("span",{title:O.label},ee(O.label),9,St)],2)]),_:2},1032,["modelValue","onUpdate:modelValue"])]))),128))])]),_:1}),n(y,{label:"图层",name:"layer"},{default:i(()=>[v("div",$t,[v("ul",null,[(f(!0),U(K,null,te(r.value,(b,N)=>(f(),U("li",{key:N,class:W({active:m.active.includes(b.index),lock:b.lock,display:b.display,isGroup:b.groupId&&!b.type})},[v("span",{onClick:O=>e(b,"active")},[v("i",{class:W(`icon-${b.icon}`)},null,2),A(" "+ee(b.label),1)],8,Lt),v("i",{onClick:O=>e(b,"display"),class:W(["icon",[b.display?"icon-eye-close":"icon-eye"]])},null,10,Vt),v("i",{onClick:O=>e(b,"lock"),class:W(["icon",[b.lock?"icon-lock":"icon-lock-open"]])},null,10,Et),n(o,{title:"确认删除",onConfirm:O=>e({index:b.index},"del")},{reference:i(()=>[Rt]),_:2},1032,["onConfirm"])],2))),128))])])]),_:1})]),_:1})])}}}),Dt=["onMousedown"],Re=ce({__name:"ruler",props:{direction:{default:"h"},scale:{},offset:{},showRuler:{type:Boolean},showLine:{type:Boolean},size:{},scroll:{}},setup(Y){const w=Y,g=de({leftTop:0,moveFlag:!1,moveLine:!1,line:[]}),s=Z(()=>{let o={};return w.direction==="v"&&w.scroll[0]>0&&(o={left:w.scroll[0]+20+"px"}),{width:w.size,...o}}),r=Z(()=>{let o;return w.direction==="h"?o={left:g.leftTop+"px"}:o={top:g.leftTop+"px"},{display:g.moveFlag?"block":"none",...o}}),D=Z(()=>{const o=w.direction==="h"?1920:1080,V=[];for(let b=0;b<o;b=b+100)V.push(b);return V}),L=o=>parseInt(`${o/w.scale*100}`),e=()=>{g.moveFlag=!0,document.onmousemove=o=>{if(!g.moveFlag)return;const V=parseInt(`${o.pageX-w.offset[0]+w.scroll[0]}`),b=parseInt(`${o.pageY-w.offset[1]+w.scroll[1]}`);g.leftTop=w.direction==="h"?V:b},document.onmouseup=function(){m()}},k=()=>{g.moveFlag&&(g.line.includes(g.leftTop)||g.line.push(g.leftTop))},m=()=>{g.moveFlag=!1,document.onmousemove=null,document.onmouseup=null},R=o=>w.direction==="h"?{left:o+"px"}:{top:o+"px"},y=(o,V,b)=>{g.moveLine=!0;const N=b.pageX-V,O=b.pageY-V;document.onmousemove=le=>{if(!g.moveLine)return;const oe=parseInt(`${le.pageX-N}`),H=parseInt(`${le.pageY-O}`),z=w.direction==="h"?oe:H;z<30?(g.line.splice(o,1),g.moveLine=!1):g.line[o]=z},document.onmouseup=function(){g.moveLine=!1,m()}};return(o,V)=>(f(),U(K,null,[be(v("div",{class:W(["screen-ruler",`ruler-${o.direction}`]),style:ae(s.value)},[v("div",{class:"ruler-box",onMouseenter:e,onMouseleave:m,onMousedown:k},[(f(!0),U(K,null,te(D.value,b=>(f(),U("span",{key:b},ee(L(b)),1))),128))],32)],6),[[Ie,o.showRuler]]),be(v("div",null,[v("div",{class:W(["ruler-line dotted",`line-${o.direction}`]),style:ae(r.value)},[v("span",null,ee(L(g.leftTop-20)),1)],6),(f(!0),U(K,null,te(g.line,(b,N)=>(f(),U("div",{class:W(["ruler-line",`line-${o.direction}`]),key:b,style:ae(R(b)),onMousedown:O=>y(N,b,O)},[v("span",null,ee(L(b-20)),1)],46,Dt))),128))],512),[[Ie,o.showLine]])],64))}});const Mt=Y=>new Promise((w,g)=>{if(!Y)return g();Oe("designById",{id:Y}).then(s=>{var L;const r=s.data,D=Ce(r.data);(L=D.config)!=null&&L.style&&je("screenStyle",D.config.style,!0),w(D)}).catch(s=>{qe.error(s.message||"加载异常"),g()})}),zt=(Y,w,g,s)=>new Promise((r,D)=>{let L={};typeof g=="function"&&(L=g({})),Oe(Y,L,{method:s}).then(e=>{const k=e.data;let m;w&&(typeof w=="function"?m=w(k):m=Pe(w,k)),r(m||k)}).catch(e=>{qe.error(e.message||"加载异常"),D()})}),Ot=["onClick"],jt=ce({__name:"rightMenu",emits:["click"],setup(Y,{expose:w,emit:g}){const s=de({offsetX:0,offsetY:0,visible:!1,type:0}),r=Z(()=>{const m={0:["split","copy"],1:["merge"],2:["merge","split","left","right","top","bottom","horizontally","verticalCenter"]};return[{key:"merge",label:"组合"},{key:"split",label:"拆分"},{key:"left",label:"左对齐"},{key:"right",label:"右对齐",display:!0},{key:"top",label:"顶部对齐",display:!0},{key:"bottom",label:"底部对齐",display:!0},{key:"horizontally",label:"水平居中",display:!0},{key:"verticalCenter",label:"垂直居中",display:!0},{key:"copy",label:"复制"},{key:"del",label:"删除"},{key:"lock",label:"锁定"},{key:"display",label:"隐藏"}].filter(R=>!m[s.type].includes(R.key))}),D=Z(()=>({left:s.offsetX+"px",top:s.offsetY+"px"})),L=()=>{setTimeout(()=>{s.visible=!1},1e3)},e=m=>{g("click",m,s.type),s.visible=!1};return w({open:({x:m,y:R,type:y})=>{s.offsetX=m+10,s.offsetY=R,s.type=y||0,s.visible=!0}}),(m,R)=>be((f(),U("div",{class:"screen-right-menu",style:ae(D.value),onMouseleave:L},[v("ul",null,[(f(!0),U(K,null,te(r.value,y=>(f(),U("li",{key:y.key,onClick:o=>e(y.key),class:W({display:y.display})},ee(y.label),11,Ot))),128))])],36)),[[Ie,s.visible]])}}),Se=Y=>(nt("data-v-b5b9ba5a"),Y=Y(),at(),Y),qt={class:"container-screen"},At={class:"main-box"},Ft={class:"control-tools"},Bt=["onMousedown"],Xt={key:0},Yt={key:0,class:"no-date"},Nt={class:"design-footer"},Gt={class:"center"},Pt={class:"item"},Wt=Se(()=>v("label",{class:"label"},"标尺",-1)),Jt={class:"item"},Kt=Se(()=>v("label",{class:"label"},"参考线",-1)),Ht={class:"item slider"},Qt=Se(()=>v("label",{class:"label"},"缩放比例",-1)),Zt={class:"item"},el=ce({__name:"index",setup(Y){const w=We();it().changeBreadcrumb([{label:"系统工具"},{label:"可视化大屏设计"}]);const s=Je(),r=Ke(),D=pe("screenToolWidthLeft")||"",L=pe("screenToolWidthRight")||"",e=de({showLine:!0,scale:100,autoScale:100,ruler:!0,widthLeft:D==="0"?"":D,widthRight:L==="0"?"":L,offset:[],scroll:[0,0],translateX:0,translateY:0,moveFlag:!1,loading:!1,isEye:!1,activeIndex:[],activeTool:"mouse",rect:{left:"0px",top:"0px",width:"0px",height:"0px",display:"none"}}),k=P(),m=P(),R=P(),y=P(),o=P({list:[],config:{width:"1920px",height:"1080px",background:"#ffffff",style:"",primary:"#409eff"}}),V=P({});He("globalScreen",V);const b=Z(()=>{const{width:l,height:t,background:p,primary:h}=o.value.config,_=e.scale/100;return{width:l,height:t,background:p,transform:`scale(${_})`,color:h,cursor:e.activeTool==="mouse"?"default":"pointer"}}),N=()=>{e.activeIndex=[],x({})};function O(l,t){e.rect.display="none",e.activeIndex=[t],x(l)}const le=P({100:{style:{}}}),oe=l=>{let t;l==="Left"?(e.widthLeft=e.widthLeft===""?"0px":"",t=e.widthLeft):(e.widthRight=e.widthRight===""?"0px":"",t=e.widthRight),setTimeout(()=>{ne()},500),pe("screenToolWidth"+l,t||"0")},H=l=>{z.value.scrollTo(0,0),l==="auto"?e.scale=e.autoScale:e.scale=100,pe("screenScale",e.scale+"")},z=P(),ne=()=>{De(()=>{const l=z.value.offsetWidth,t=parseInt(o.value.config.width);if(l&&t){const h=parseInt(`${l/t*100}`);e.autoScale=h;const _=pe("screenScale");e.scale=parseInt(_)||h}const p=z.value.getBoundingClientRect();e.offset[1]=p.top+document.documentElement.scrollTop-(document.documentElement.clientTop||0),e.offset[0]=p.left+document.documentElement.scrollLeft-(document.documentElement.clientLeft||0)})},ye=l=>{N(),e.moveFlag=!0;const t=z.value.scrollTop,p=z.value.scrollLeft,h=l.pageX+p,_=l.pageY+t,C=(l.pageX-e.offset[0]-20+e.scroll[0])/(e.scale/100),$=(l.pageY-e.offset[1]-20+e.scroll[1])/(e.scale/100);e.rect={left:C+"px",top:$+"px",width:"0px",height:"0px",display:"none"},document.onmousemove=d=>{if(e.moveFlag)if(e.activeTool==="mouse"){const X=(d.pageX-e.offset[0]-20+e.scroll[0])/(e.scale/100),Q=(d.pageY-e.offset[1]-20+e.scroll[1])/(e.scale/100),we=C>X?X:C,xe=$>Q?Q:$;e.rect={left:we+"px",top:xe+"px",width:Math.abs(C-X)+"px",height:Math.abs($-Q)+"px",display:"block"}}else{const X=h-d.pageX,Q=_-d.pageY;z.value.scrollTo(X,Q)}},document.onmouseup=function(){const{width:d,height:X}=e.rect;parseInt(d)>10&&parseInt(X)>10?u():e.rect.display="none",e.moveFlag=!1,document.onmousemove=null}},u=()=>{if(o.value.list.forEach((t,p)=>{Ve(t.position)&&l(t.position)&&t.type!=="group"&&!t.groupId&&!t.config.lock&&(e.activeIndex.includes(p)||e.activeIndex.push(p))}),e.activeIndex.length){const{left:t,top:p,width:h,height:_}=a();e.rect={left:t+"px",top:p+"px",width:h+"px",height:_+"px",display:"block"}}else e.rect.display="none";function l(t){const p=t.left,h=t.top,_=t.left+parseInt(t.width),C=t.top+parseInt(t.height),$=parseInt(e.rect.left),d=parseInt(e.rect.top),X=$+parseInt(e.rect.width),Q=d+parseInt(e.rect.height),we=p<X&&$<_,xe=h<Q&&d<C;return we&&xe}},a=()=>{const l={left:0,top:0,ex:0,ey:0};return o.value.list.forEach((p,h)=>{if(e.activeIndex.includes(h)){const{left:_,top:C,width:$,height:d}=p.position;l.left=t(l.left,_),l.top=t(l.top,C),l.ex=Math.max(l.ex,parseInt(`${$}`)+_),l.ey=Math.max(l.ey,parseInt(`${d}`)+C)}}),{left:l.left,top:l.top,width:Math.abs(l.ex-l.left),height:Math.abs(l.ey-l.top)};function t(p,h){return p===0?h:Math.min(p,h)}},j=()=>{const l=z.value.scrollTop,t=z.value.scrollLeft;e.scroll=[t,l]},E=l=>{l.preventDefault()},T=l=>{const t=l.newIndex,p=o.value.list[t];delete p.label,delete p.icon;const{pageX:h,pageY:_}=l.originalEvent;p.position||(p.position={}),p.config||(p.config={}),p.position.left=parseInt(`${h-e.offset[0]+e.scroll[0]+180}`),p.position.top=parseInt(`${_-e.offset[1]+e.scroll[1]+40}`),e.rect.display="none",e.activeIndex=[t],x(p),F()},x=l=>{k.value.setCurrent(l)},F=()=>{m.value.setLayer(o.value.list)},S=de({visible:!1,title:"",direction:"",content:"",codeType:"",callback:""}),I=()=>{ie()},J=l=>{try{if(typeof S.callback=="function"){const t=S.codeType==="json"?tt(l):Ce(l);S.callback(t)}else switch(S.type){case"css":o.value.config.style=l,je("screenStyle",l,!0);break;case"json":o.value=Ce(l),F();break}ie()}catch{}},se=l=>{const{type:t,direction:p,codeType:h,title:_,callback:C,content:$}=l;S.direction=p||"ltr",S.type=t,S.codeType=h||"",S.title=_?`提示：${_}`:"",S.visible=!0,S.callback=C;let d=h==="json"?lt($,!0):ot($,!0);switch(t){case"css":d=o.value.config.style||"";break}S.content=d},ie=()=>{S.visible=!1,S.type="",S.title="",S.codeType="",S.callback="",S.content=""},re=l=>{switch(l){case"del":o.value.list=[],N(),F();break;case"eye":e.isEye=!0;break;case"json":se({type:"json",content:o.value,title:"可编辑修改或将已生成的脚本粘贴进来"});break;case"vue":R.value.openScreen(o.value);break;case"html":R.value.openScreen2(o.value);break;case"png":me();break;case"save":fe();break}};function me(){const l=document.getElementById("element-to-capture");ut(l).then(t=>{const p=t.toDataURL("image/png"),h=document.createElement("a");h.href=p,h.download="exported-image.png",h.click()})}function ue(){return w.getters.getUserinfo}const ke=w.state.Form.id;function fe(){Le({url:"#/api/v1/prototype_design/save_page_content",method:"post",data:JSON.stringify({token:ue().token,page_id:ke,type:1,content:JSON.stringify(o.value)})}).then(l=>{r.push("/main/project/"+w.state.Doc.project_id)}).catch(l=>{console.log(l)})}const c=()=>{e.loading=!0,Mt(s.query.id).then(l=>{e.loading=!1,o.value=l,F();const{requestUrl:t,afterResponse:p,beforeRequest:h,method:_}=o.value.config;t&&zt(t,p,h,_).then(C=>{V.value=C})}).catch(()=>{e.loading=!1})},_e=()=>{Le({url:"#/api/v1/prototype_design/get_page_content",method:"post",data:JSON.stringify({token:ue().token,page_id:w.state.Form.id})}).then(l=>{console.log("this is getDatatest"),console.log(l.data.data.content),l.data.data.content.length===0?console.log("list里面没有东西"):o.value=JSON.parse(l.data.data.content)}).catch(l=>{console.log(l)})},B=(l,t,p)=>{e.rect.display="none";const h=o.value.list[t].id,_=o.value.list;if(["display","lock"].includes(l)&&(l==="display"?_[t].position[l]=p:_[t].config[l]=p,h&&_.forEach(C=>{C.groupId===h&&(l==="display"?C.position.display=p:C.config.lock=p)}),x(_[t])),l==="del"&&(o.value.list.splice(t,1),N(),h&&(o.value.list=_.filter(C=>C.groupId!==h))),l==="copy"){let C="";const $=ve(o.value.list[t]);h&&(C=Ee(8),$.id=C,_.forEach(X=>{if(X.groupId===h){const Q=ve(X);Q.groupId=C,o.value.list.push(Q)}})),o.value.list.push($);const d=o.value.list.length-1;O($,d)}F()},ge=l=>{var h;if(!((h=e.activeIndex)!=null&&h.length))return;const t=ve(e.activeIndex),p=o.value.list[e.activeIndex[0]].id;e.activeIndex.length===1&&p&&o.value.list.forEach((_,C)=>{_.groupId===p&&t.push(C)});for(const _ in t){const C=t[_],$=o.value.list[C];if(!Ve($==null?void 0:$.position))break;l.key==="ArrowRight"?$.position.left++:l.key==="ArrowLeft"?$.position.left--:l.key==="ArrowDown"?$.position.top++:l.key==="ArrowUp"&&$.position.top--}e.rect.display==="block"&&(l.key==="ArrowRight"?e.rect.left=parseInt(e.rect.left)+1+"px":l.key==="ArrowLeft"?e.rect.left=parseInt(e.rect.left)-1+"px":l.key==="ArrowDown"?e.rect.top=parseInt(e.rect.top)+1+"px":l.key==="ArrowUp"&&(e.rect.top=parseInt(e.rect.top)-1+"px")),l.preventDefault()},Ae=l=>{y.value.open({x:l.pageX,y:l.pageY}),l.preventDefault()},Fe=({x:l,y:t,type:p})=>{y.value.open({x:l,y:t,type:p})},Be=(l,t)=>{const{list:p}=o.value,{id:h,position:_}=p[e.activeIndex[0]];let C,$=0;switch(l){case"merge":Xe();break;case"split":p.forEach(d=>{d.groupId===h&&delete d.groupId}),o.value.list.splice(e.activeIndex[0],1),N(),F();break;case"left":t===0?C=parseInt(e.rect.left):t===1&&(C=_.left),o.value.list.forEach((d,X)=>{(t===0&&e.activeIndex.includes(X)||t===1&&d.groupId===h)&&(d.position.left=C,d.position.width>$&&($=parseInt(d.position.width)))}),t===0?e.rect.width=$+"px":t===1&&(o.value.list[e.activeIndex[0]].position.width=$);break;case"right":case"top":case"bottom":case"horizontally":case"verticalCenter":break;case"copy":case"del":case"lock":case"display":B(l,e.activeIndex[0],!0);break}},Xe=()=>{const l=Ee(8);o.value.list.push({type:"group",position:{left:parseInt(e.rect.left),top:parseInt(e.rect.top),width:parseInt(e.rect.width),height:parseInt(e.rect.height),zIndex:110},config:{},id:l}),o.value.list.forEach((p,h)=>{e.activeIndex.includes(h)&&(p.groupId=l)});const t=o.value.list.length-1;O(o.value.list[t],t),F()},Ye=l=>{};return Ue(()=>{ne(),c(),_e(),document.addEventListener("keydown",ge)}),Qe(()=>{document.removeEventListener("keydown",ge)}),(l,t)=>{var $;const p=M("el-switch"),h=M("el-slider"),_=M("el-button"),C=Ze("loading");return be((f(),U("div",qt,[e.isEye?(f(),U("i",{key:0,class:"icon-close close-preview",onClick:t[0]||(t[0]=d=>e.isEye=!1)})):G("",!0),e.isEye?(f(),U("button",{key:1,onClick:t[1]||(t[1]=d=>e.isEye=!1),class:"Lcyclosebutton"},"关闭预览界面")):G("",!0),n(Ut,{style:ae({width:e.widthLeft}),ref_key:"controlLeftEl",ref:m,active:e.activeIndex,"onUpdate:active":t[2]||(t[2]=d=>e.activeIndex=d),onUpdate:B},null,8,["style","active"]),v("div",At,[n(ct,{onClick:re},{default:i(()=>[v("div",Ft,[v("i",{class:W(["icon-mouse",{active:e.activeTool==="mouse"}]),title:"矩形选择工具",onClick:t[3]||(t[3]=d=>e.activeTool="mouse")},null,2),v("i",{class:W(["icon-hand",{active:e.activeTool==="hand"}]),title:"手拖动工具",onClick:t[4]||(t[4]=d=>e.activeTool="hand")},null,2)])]),_:1}),v("div",{class:"design-box",ref_key:"designBoxEl",ref:z,onScroll:j},[n(Re,{size:"1920px",scale:e.scale,offset:e.offset,scroll:e.scroll,"show-ruler":e.ruler,"show-line":e.showLine},null,8,["scale","offset","scroll","show-ruler","show-line"]),n(Re,{size:"1080px",scale:e.scale,offset:e.offset,scroll:e.scroll,"show-ruler":e.ruler,"show-line":e.showLine,direction:"v"},null,8,["scale","offset","scroll","show-ruler","show-line"]),v("div",{onMousedown:$e(ye,["left"]),class:W(["design-canvas",{preview:e.isEye}]),style:ae(b.value),onContextmenu:E,id:"element-to-capture"},[n(Te(ze),et({itemKey:"id",list:o.value.list,name:"fade",class:"drag"},{group:"form",animation:200,handle:".none"},{onAdd:T}),{item:i(({element:d,index:X})=>[n(st,{data:d,onClick:$e(Q=>O(d,X),["stop"]),type:0,scale:e.scale,current:e.activeIndex.includes(X),onContextmenu:Fe,onMoveOrResize:Ye},null,8,["data","onClick","scale","current"])]),_:1},16,["list"]),v("div",{class:"draw-react",style:ae(e.rect),onContextmenu:Ae},[($=e.activeIndex)!=null&&$.length?(f(),U("span",Xt,"选中"+ee(e.activeIndex.length)+"个",1)):G("",!0)],36)],46,Bt),o.value.list.length?G("",!0):(f(),U("div",Yt," 请从左则组件栏拖动组件到设计区域 "))],544),v("div",Nt,[v("i",{class:"icon-menu icon",onClick:t[5]||(t[5]=d=>oe("Left"))}),v("div",Gt,[v("div",Pt,[Wt,n(p,{size:"small",modelValue:e.ruler,"onUpdate:modelValue":t[6]||(t[6]=d=>e.ruler=d)},null,8,["modelValue"])]),v("div",Jt,[Kt,n(p,{size:"small",modelValue:e.showLine,"onUpdate:modelValue":t[7]||(t[7]=d=>e.showLine=d)},null,8,["modelValue"])]),v("div",Ht,[Qt,n(h,{"show-stops":"",max:200,min:e.autoScale-5,size:"small",marks:le.value,modelValue:e.scale,"onUpdate:modelValue":t[8]||(t[8]=d=>e.scale=d)},null,8,["min","marks","modelValue"])]),v("div",Zt,[n(_,{type:"primary",link:"",onClick:t[9]||(t[9]=d=>H("auto"))},{default:i(()=>[A("自适应 ")]),_:1}),n(_,{type:"primary",link:"",onClick:t[10]||(t[10]=d=>H("100"))},{default:i(()=>[A("100% ")]),_:1})])]),v("i",{class:"icon-menu icon",onClick:t[11]||(t[11]=d=>oe("Right"))})])]),n(xt,{style:ae({width:e.widthRight}),config:o.value.config,"onUpdate:config":t[12]||(t[12]=d=>o.value.config=d),onOpenDrawer:se,onUpdate:F,ref_key:"configEl",ref:k},null,8,["style","config"]),n(rt,{modelValue:S.visible,"onUpdate:modelValue":t[13]||(t[13]=d=>S.visible=d),title:S.title,direction:S.direction,content:S.content,"code-type":S.codeType,onBeforeClose:I,onConfirm:J},null,8,["modelValue","title","direction","content","code-type"]),n(pt,{ref_key:"vueFileEl",ref:R},null,512),n(jt,{ref_key:"rightMenuEl",ref:y,onClick:Be},null,512)])),[[C,e.loading]])}}});const ol=Me(el,[["__scopeId","data-v-b5b9ba5a"]]);export{ol as default};
