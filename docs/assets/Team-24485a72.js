import{_ as H}from"./111-95b7bfc1.js";import{_ as K,b as P,u as Q,r as d,s as W,m as I,d as X,e as c,o as T,f as C,j as o,g as a,h as l,y,aa as Y,x as m,F as L,O as Z,t as ee,z as U,L as te,i as z,E as _,p as oe,n as ne}from"./index-4d5b55f1.js";const p=f=>(oe("data-v-357e1014"),f=f(),ne(),f),ae={class:"fullScreen"},se={class:"draw-content"},le=p(()=>o("h1",{class:"home-title",style:{"font-size":"40px","font-weight":"700"}},"进入应用",-1)),ie=p(()=>o("p",{class:"home-description"},"我们将在团队中提供 项目管理 服务",-1)),re=p(()=>o("hr",null,null,-1)),ce={class:"team-group"},me=["onMouseover","onMouseleave","onClick"],ue=p(()=>o("img",{class:"team-item-img",src:H,alt:""},null,-1)),de={class:"team-item-content"},_e={class:"team-item-content-name"},pe={class:"team-item-content"},fe=p(()=>o("span",{class:"team-item-content-description"},"可用于企业、组织或团队",-1)),ve={class:"dialog-footer"},ge="color: #595959; background: #d6d6d6;",he="color: #000000; background: #c5c5c5;",ye={__name:"Team",setup(f){const M=P(),r=Q(),k=d([]);W(()=>{J()});function v(){return r.getters.getUserinfo}function b(){return r.state.User.currentTeam}function J(){I({url:"#/api/v1/team_manage/view_team_info",method:"post",data:JSON.stringify({token:v().token})}).then(s=>{let t=s.data.data;k.value=[];for(let i of t)k.value.push({id:i.team_id,src:"",name:i.name,introduction:i.introduction,creator_name:i.creator_name,creator_id:i.creator_id})}).catch(s=>{console.log(s)})}function B(){if(e.name===""){_.warning("团队名不能为空");return}if(e.nickname===""){_.warning("您在团队中的昵称不能为空");return}I({url:"#/api/v1/team_manage/create_team",method:"post",data:JSON.stringify({token:v().token,name:e.name,nickname:e.nickname,introduction:e.introduction})}).then(s=>{if(s.data.errno===1003){e.introduction="",e.name="",e.nickname="",_.error("名下已存在同名团队");return}r.commit("initGroup"),r.commit("changeTeam",{id:s.data.data.team_id,src:"",name:e.name,introduction:e.introduction,creator_name:v().user_name,creator_id:v().user_id}),e.introduction="",e.name="",e.nickname="",_.success("创建成功"),M.push("./main/manage")}).catch(s=>{console.log(s)})}function N(s){r.commit("initGroup"),r.commit("changeTeam",JSON.parse(JSON.stringify(s))),M.push("./main/manage")}const g=d(-1),u=d("color: #000000"),w=d(!1),h=d(!1),e=X({name:"",introduction:"",nickname:""});function E(s){g.value=s}function D(s){g.value=-1}function F(){u.value="color: #736efe"}function G(){u.value="color: #000000"}function j(){b()==null?_.error("请选择想要进入的团队！"):N(b())}function q(){h.value=!0}return(s,t)=>{const i=c("el-icon"),V=c("el-input"),x=c("el-form-item"),A=c("el-form"),O=c("el-button"),R=c("el-dialog");return T(),C(L,null,[o("div",ae,[a(i,{onMouseover:t[0]||(t[0]=n=>w.value=!0),onMouseleave:t[1]||(t[1]=n=>w.value=!1),onClick:t[2]||(t[2]=n=>j()),style:m(w.value===!1?ge:he),class:"quit-button"},{default:l(()=>[a(y(Y))]),_:1},8,["style"]),o("div",se,[le,ie,re,o("ul",ce,[(T(!0),C(L,null,Z(k.value,(n,S)=>(T(),C("li",{key:n.code,onMouseover:$=>E(S),onMouseleave:$=>D(),onClick:$=>N(n),class:"team-item"},[ue,o("div",de,[o("span",_e,[o("span",{style:m(g.value===S?"color: #736efe":""),class:"team-item-content-text"},ee(n.name),5)])]),o("div",{style:m(g.value===S?"color: #736efe":""),class:"team-item-content-enter"},[a(y(U),{style:{width:"1em",height:"1em","margin-right":"8px"}})],4)],40,me))),128)),o("li",{onMouseover:F,onMouseleave:G,onClick:t[3]||(t[3]=n=>q()),class:"team-item"},[a(i,{style:m(u.value),class:"team-item-svg"},{default:l(()=>[a(y(te))]),_:1},8,["style"]),o("div",pe,[o("span",{style:m(u.value),class:"team-item-content-create"},"创建新的团队",4),fe]),o("div",{style:m(u.value),class:"team-item-content-enter"},[a(y(U),{style:{width:"1em",height:"1em","margin-right":"8px"}})],4)],32)])])]),a(R,{modelValue:h.value,"onUpdate:modelValue":t[8]||(t[8]=n=>h.value=n),title:"创建团队",width:"40%"},{footer:l(()=>[o("span",ve,[a(O,{onClick:t[7]||(t[7]=n=>h.value=!1)},{default:l(()=>[z("取消")]),_:1}),a(O,{type:"primary",onClick:B},{default:l(()=>[z(" 确认 ")]),_:1})])]),default:l(()=>[a(A,{model:e},{default:l(()=>[a(x,{label:"团队名称"},{default:l(()=>[a(V,{modelValue:e.name,"onUpdate:modelValue":t[4]||(t[4]=n=>e.name=n),autocomplete:"off",style:{width:"75%"},placeholder:"请输入团队名称"},null,8,["modelValue"])]),_:1}),a(x,{label:"团队介绍"},{default:l(()=>[a(V,{modelValue:e.introduction,"onUpdate:modelValue":t[5]||(t[5]=n=>e.introduction=n),type:"textarea",maxlength:"100",rows:"6",resize:"none","show-word-limit":"",autocomplete:"off",style:{width:"75%"},placeholder:"请输入团队介绍"},null,8,["modelValue"])]),_:1}),a(x,{label:"团队昵称"},{default:l(()=>[a(V,{modelValue:e.nickname,"onUpdate:modelValue":t[6]||(t[6]=n=>e.nickname=n),autocomplete:"off",style:{width:"75%"},placeholder:"请输入您在团队中的昵称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}},Ve=K(ye,[["__scopeId","data-v-357e1014"]]);export{Ve as default};
